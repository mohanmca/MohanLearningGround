<html>
  <head>
    <title>Random</title>
  </head>
  <body>
    <div id="number">
      <br />
    </div>
    <div id="number"></div>
    <div id="number">
      <br />
    </div>
    <form id="multiplicationForm">
      <label for="SquareMode">Square mode</label>&nbsp;&nbsp;&nbsp;
      <input type="checkbox" id="SquareMode" value="true" /><br />
      <label for="firstNumGen">First Number</label>&nbsp;&nbsp;&nbsp;
      <input type="text" id="firstNumGen" value="" /><br />
      <label for="secondNumGen">Second Number</label>&nbsp;&nbsp;&nbsp;
      <input type="text" id="secondNumGen" value="" /><br />
      <label for="answer">Answer</label>&nbsp;&nbsp;&nbsp;
      <input type="text" id="answer" value="" />
      <br /><br /><br />
      <a href='https://thumbs.dreamstime.com/z/x-multiplication-table-vector-illustration-students-multiplication-table-x-98833796.jpg'>
        Table Reference
      </a>
      <label id="counter">Counter</label>&nbsp;&nbsp;&nbsp;
    </form>

    <script>
      let right = 0;
      let wrong = 0;
      function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        let randomValue = Math.floor(Math.random() * (max - min + 1)) + min;
        if (randomValue == 10) randomValue = randomValue - 1;
        else randomValue == 11;
        randomValue = randomValue + 1;
        console.log(randomValue);
        return randomValue;
      }
      function replenish() {
        let randomNumber = getRandomInt(3, 20);
        document.getElementById("firstNumGen").value = randomNumber;
        let secondRandomNumber = getRandomInt(3, 20);
        if (document.getElementById("SquareMode").checked) {
          let random_boolean = Math.random() >= 0.5;
          if (random_boolean) {
            secondRandomNumber = randomNumber - 1;
          } else {
            secondRandomNumber = randomNumber + 1;
          }
        }
        document.getElementById("secondNumGen").value = secondRandomNumber;
      }
      replenish();

      var answer = document.getElementById("answer");
      if (answer.addEventListener) {
        answer.addEventListener("keydown", this.tabHandler, false);
      }

      function insRow() {
        var x = document.getElementById("KishoTable").insertRow(2);
        var firstNum = x.insertCell(0);
        var secondNum = x.insertCell(1);
        var answer = x.insertCell(2);
        var submission = x.insertCell(3);
        var result = x.insertCell(4);
        firstNum.innerHTML = arguments[0];
        secondNum.innerHTML = arguments[1];
        answer.innerHTML = arguments[0] * arguments[1];
        submission.innerHTML = arguments[2];
        result.innerHTML = arguments[0] * arguments[1] == arguments[2];
      }

      function tabHandler(e) {
        var TABKEY = 9;
        if (e.keyCode == TABKEY) {
          //this.value += "    ";
          let calculatedAnswer =
            multiplicationForm.firstNumGen.value *
            multiplicationForm.secondNumGen.value;
          let answer = parseInt(multiplicationForm.answer.value, 10);
          if (calculatedAnswer === answer) {
            right++;
            alert("You'r right ~~~> " + right);
          } else {
            wrong++;
            alert("You'r wrong ~~~> " + wrong);
          }
          insRow(
            multiplicationForm.firstNumGen.value,
            multiplicationForm.secondNumGen.value,
            multiplicationForm.answer.value
          );
          multiplicationForm.answer.value = "";
          replenish();
          document.getElementById("counter").innerHTML =
            "Your right :: ~~~> " + right + ": Wrong ::  :: ~~~>" + wrong;
          if (e.preventDefault) {
            e.preventDefault();
          }
          return false;
        }
      }
    </script>
    <div>
      <table id="KishoTable" border="1">
        <tr>
          <th colspan="5">KavinKisho's Table</th>
        </tr>
        <tr>
          <th>
            FirstNum
          </th>
          <th>
            SecondNum
          </th>
          <th>
            Answer
          </th>
          <th>
            Submission
          </th>
          <th>
            Result
          </th>
        </tr>
      </table>
    </div>
    <a
      href="https://htmlpreview.github.io/?https://github.com/mohanmca/MohanLearningGround/blob/master/src/main/webapp/multiplication_quiz2.html"
      >Link Back</a
    >
  </body>
</html>
